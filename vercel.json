{
    "version": 2,
    "buildCommand": "rm -rf .next && vc build && vc deploy --prebuilt",
    "builds": [
      {
        "src": "/app/api.py",
        "use": "@vercel/python" ,
        "config": { "maxDuration": 100, "maxLambdaSize": "15mb", "runtime": "python3.11" }
      }
    ],
    "functions": {
      "app/api.py": {
        "maxDuration": 50 
      },
      "app/api/*.js": {
        "maxDuration": 50
      }
    },
    "routes": [
        {
          "src": "/(.*)",
          "dest": "app/api.py",
          "headers": {
            "Access-Control-Allow-Origin": "*",
            "Access-Control-Allow-Methods": "GET,POST,PUT,DELETE,OPTIONS",
            "Access-Control-Allow-Headers": "Content-Type, Authorization"
          }
        }
      ],
      "env": {
        "APP_MODULE": "app:api"
      }

  }