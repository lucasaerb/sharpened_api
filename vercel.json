{
    "version": 2,
    "buildCommand": "rm -rf .next && vc build && vc deploy --prebuilt",
    "builds": [
      {
        "src": "/api/index.py",
        "use": "@vercel/python" ,
        "config": { "maxDuration": 100, "maxLambdaSize": "15mb", "runtime": "python3.11" }
      }
    ],
    "functions": {
      "api/index.*": {
        "maxDuration": 100,
        "runtime": "python3.12"
      },
      "api/**/*": {
        "maxDuration": 100,
        "runtime": "python3.12"
      },
      "api/*": {
        "maxDuration": 100,
        "runtime": "python3.12"
      }
    },
    "routes": [
        {
          "src": "/(.*)",
          "dest": "api/index.py",
          "headers": {
            "Access-Control-Allow-Origin": "*",
            "Access-Control-Allow-Methods": "GET,POST,PUT,DELETE,OPTIONS",
            "Access-Control-Allow-Headers": "Content-Type, Authorization"
          }
        }
      ],
      "env": {
        "APP_MODULE": "app:api"
      }

  }